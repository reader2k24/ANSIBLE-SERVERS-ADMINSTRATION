<h1>Клонирование репозитория</h1>
<pre><code>git clone https://github.com/reader2k24/ANSIBLE-SERVERS-ADMINSTRATION.git</code></pre>

<h1>Настройка среды разработки с помощью Ansible</h1>
<p>Этот Ansible playbook автоматизирует настройку среды разработки для моего проекта, включая конфигурацию DNS сервера, Docker, управление пользователями, настройку сервисов и сети.</p>

<h2>Структура плейбука</h2>
<ol>
  <li>Настройка DNS сервера: Настраивает DNS сервер на целевых серверах HQ-SRV и HQ-R.</li>
  <li>Настройка Docker: Устанавливает Docker и Docker-Compose.</li>
  <li>Управление пользователями: Добавляет текущего пользователя в группу Docker и выполняет перезагрузку сервера.</li>
  <li>Установка пакетов: Обновляет списки пакетов и устанавливает пакеты на целевых серверах.</li>
  <li>Настройка сети: Выполняет настройку сетевых интерфейсов, DHCP и маршрутизацию на целевых серверах.</li>
  <li>Настройка сервисов: Настраивает бэкапы,VPN и OSPF, перезапускает сервисы на целевых серверах.</li>
  <li>Управление пользователями: Создает пользователей на целевых серверах.</li>
</ol>

<h2>Использование</h2>
<ol>
  <li>Клонируйте репозиторий на локальную машину.</li>
  <li>Измените файл inventory/cluster, чтобы указать IP-адреса или имена хостов ваших целевых серверов.</li>
  <li>Настройте переменные в соответствующих файлах vars/main.yml в соответствии с вашими требованиями.</li>
  <li>Запустите плейбук с помощью следующей команды:<br><code>ansible-playbook -i inventory/cluster all.yml</code></li>
</ol>
<p>Убедитесь, что на вашей локальной машине установлен Ansible перед запуском плейбука.</p>

<h2>Предварительные требования</h2>
<ul>
  <li>Установленный Ansible на локальной машине.</li>
  <li>Целевые серверы доступны по SSH с привилегиями sudo.</li>
</ul>
<body>
  <h1>Конфигурация серверов</h1>
  <h3>Схематический рисунок</h3>
  
                         +---------+         +---------+         +---------+
                         |  HQ-R   | ------- |   ISP   | ------- |   BR-R  |
                         +----+----+         +----+----+         +----+----+
                              |                   |                   |
                              |                   |                   |
                         +----+----+         +----+----+         +----+----+
                         |  HQ-SRV |         |   CLI   |         |  BR-SRV |
                         +----+----+         +----+----+         +----+----+

  <h3>Установленные пакеты</h3>
  <table>
    <tr><th>ALL</th><th>ISP</th><th>HQ-R</th><th>BR-R</th><th>HQ-SRV</th></tr>
    <tr><th>network-manager<br>chrony</th><th>iperf3</th><th>isc-dhcp-server<br>radvd | frr | iperf3 </th><th>frr</th><th>openssh-server<br>bind9</th></tr>
  </table>
  
</body>
<body>
  <h1>Настройка серверов</h1>

  <h2>1. Выполнение базовой настройки</h2>
  <h3>a. Именование устройств</h3>
  <p>Имена устройств присвоены в соответствии с топологией.</p>
  <h3>b. Расчет IP-адресации</h3>
  <p>Таблица №1:</p>
  <table>
    <tr><th>NAME</th><th>IPv4</th><th>IPv6</th></tr>
    <tr><td>ISP</td><td>11.11.11.1/24<br>22.22.22.1/24<br>10.100.10.1/24</td><td>1110:A::1/64<br>2220:B::1/64<br>10:100:C::1/64</td></tr>
    <tr><td>HQ-R</td><td>11.11.11.100/24<br>131.131.0.1/26</td><td>1110:A::100/64<br>131:131:D::1/122</td></tr>
    <tr><td>BR-R</td><td>22.22.22.100/24<br>172.16.0.32/28</td><td>2220:B::100/64<br>172:16:E::1/124</td></tr>
    <tr><td>CLI</td><td>10.100.10.100/24</td><td>10:100:C::100/64</td></tr>
    <tr><td>HQ-SRV</td><td>131.131.0.60/26</td><td>131:131:D::6/122</td></tr>
    <tr><td>BR-SRV</td><td>172.16.0.42/28</td><td>172:16:E::A/124</td></tr>
  </table>
  <p>c. Пул адресов для сети BR - не более 16</p>
  <p>d. Пул адресов для сети HQ - не более 64</p>

  <h2>2. Настройка внутренней динамической маршрутизации</h2>
  <p>В данной сети используется протокол маршрутизации OSPF для обеспечения динамического обмена маршрутной информацией между устройствами. OSPF позволяет автоматически     обновлять маршруты в сети при изменениях топологии.</p>
  <p>Кроме того, между серверами HQ-R и BR-R настроен VPN Tunnel. Этот туннель обеспечивает защищенное соединение между штаб-квартирой и отделением. Он используется для     обмена данными между серверами HQ-SRV и BR-SRV, обеспечивая безопасный и зашифрованный канал связи.</p>
  <p>VPN Tunnel позволяет серверам HQ-SRV и BR-SRV общаться между собой в защищенной среде, что обеспечивает конфиденциальность и целостность передаваемой информации.</p>

  <h2>3. Автоматическое распределение IP-адресов на роутере HQ-R</h2>
  <p>Настроено автоматическое распределение IP-адресов на роутере HQ-R для HQ-SRV.</p>
  <p>Зарезервирован адрес для сервера.</p>

  <h2>4. Настройка локальных учетных записей</h2>
  <p>Локальные учетные записи на всех устройствах настроены согласно таблице 2.</p>
  <p>Таблица №2:</p>
  <table>
    <tr><th>SERVERS</th><th>PASSWORD</th><th>USERS</th></tr>
    <tr><td>HQ-R and CLI</td><td>P@ssw0rd</td><td>admin<br>network-admin</td></tr>
    <tr><td>BR-R and BR-SRV</td><td>P@ssw0rd</td><td>branch-admin<br>network-admin</td></tr>
    <tr><td>HQ-SRV</td><td>P@ssw0rd</td><td>admin</td></tr>
  </table>

  <h2>5. Измерение пропускной способности сети</h2>
  <p>Измерение пропускной способности сети между двумя узлами HQ-R and ISP выполнено с использованием утилиты iperf 3.</p>
  <p>Пропускная способность канала: 2.34 Гбит/с на отправку данных и 2.34 Гбит/с на получение данных.</p>
  <!-- Скриншоты -->

  <h2>6. Backup скрипты</h2>
  <li>backup-script.sh: Скрипт для резервного копирования конфигурации устройства HQ-R и BR-R.</li>

  <h2>7. Настройка подключения по SSH</h2>
  <p>Настроено подключение по SSH для удаленного конфигурирования устройства HQ-SRV по порту 2222.</p>
  <p>Трафик перенаправлен на порт 2222.</p>

  <h2>8. Контроль доступа по SSH до HQ-SRV</h2>
  <p>Доступ к HQ-SRV через SSH реализован со всех устройств, кроме CLI.</p>
  
</body>
<body>
  <h1>Настройка сервера HQ-SRV</h1>

  <h2>1. Настройка DNS-сервера</h2>
  <h3>a. Зона hq.work</h3>
  <table>
    <tr>
      <th>Имя</th>
      <th>Тип записи</th>
      <th>Адрес</th>
    </tr>
    <tr>
      <td>hq-r.hq.work</td>
      <td>A, PTR</td>
      <td>IP-адрес</td>
    </tr>
    <tr>
      <td>hq-srv.hq.work</td>
      <td>A, PTR</td>
      <td>IP-адрес</td>
    </tr>
  </table>
  <h3>b. Зона branch.work</h3>
  <table>
    <tr>
      <th>Имя</th>
      <th>Тип записи</th>
      <th>Адрес</th>
    </tr>
    <tr>
      <td>br-r.branch.work</td>
      <td>A, PTR</td>
      <td>IP-адрес</td>
    </tr>
    <tr>
      <td>br-srv.branch.work</td>
      <td>A, PTR</td>
      <td>IP-адрес</td>
    </tr>
  </table>
  <h2>2. Установка Docker и Docker Compose</h2>
</body>
